{% extends "layout.html" %}

{% block body %}

<form class="main-form" method="post" onsubmit="return captureForm()">
    <script>

        function captureForm(){
            if(document.getElementById("password").value.length < 8){
                document.getElementById("error_message").innerHTML = "Salasanan kuuluu olla vähintään kahdeksan merkin pituinen.";
                return false;
            }
            if(document.getElementById("account").value.length == 0){
                document.getElementById("error_message").innerHTML = "Käyttäjätunnus ei voi olla tyhjä."
                return false;
            }
            if(document.getElementById("account").value.startsWith(" ") || document.getElementById("account").value.endsWith(" ")){
                document.getElementById("error_message").innerHTML = "Käyttäjätunnus ei voi alkaa tai loppua välillä."
                return false;
            }
            return true;
        }

    </script>
    <h3>Luo tunnus</h3>
    <p id="error_message">{% if error_message %}{{error_message}}{% endif %}</p>
    <input id="account" name="account" placeholder="Käyttäjätunnus"/>
    <input id="password" type="password" name="password" placeholder="Salasana"/>
    <input name="create account" type="submit" value="Luo tunnus"/>
</form>

{% endblock %}
